<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–º–Ω—ã–π –¥–æ–º - –°—Ü–µ–Ω–∞—Ä–∏–∏</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body { 
            padding-top: 20px; 
            background-color: #f8f9fa;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .navbar-brand {
            font-weight: 600;
        }
        
        .scenario-icon {
            font-size: 2rem;
            margin-bottom: 15px;
        }
        
        .scenario-card {
            border-left: 4px solid;
            transition: all 0.3s;
        }
        
        .scenario-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm rounded-3 mx-3 mb-4">
        <div class="container-fluid">
            <a class="navbar-brand text-primary fw-bold" href="index.html">
                <span class="fs-4">üè†</span> –£–º–Ω—ã–π –î–æ–º
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link fw-medium" href="index.html">
                            –ì–ª–∞–≤–Ω–∞—è
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link fw-medium" href="devices.html">
                            –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active fw-medium" href="scenarios.html">
                            –°—Ü–µ–Ω–∞—Ä–∏–∏
                        </a>
                    </li>
                </ul>
                
                <div class="d-flex align-items-center">
                    <span class="text-muted me-3 d-none d-md-block">
                        –ê–∫—Ç–∏–≤–Ω–æ: <span id="activeScenarios">2</span>
                    </span>
                    <button class="btn btn-sm btn-outline-secondary" onclick="toggleTheme()">
                        üåì –¢–µ–º–∞
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="container">
        <div class="row mb-4">
            <div class="col-12">
                <h1 class="display-6 fw-bold mb-3">–°—Ü–µ–Ω–∞—Ä–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏</h1>
                <p class="text-muted">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã —É–º–Ω–æ–≥–æ –¥–æ–º–∞</p>
            </div>
        </div>

        <!-- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card shadow-sm">
                    <div class="card-header bg-white">
                        <h5 class="mb-0 fw-bold">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π</h5>
                    </div>
                    <div class="card-body">
                        <form id="newScenarioForm" onsubmit="return createNewScenario(event)">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è</label>
                                    <input type="text" class="form-control" id="scenarioName" 
                                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: '–£—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ—Ñ–µ'" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">–¢—Ä–∏–≥–≥–µ—Ä —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è</label>
                                    <select class="form-select" id="scenarioTrigger">
                                        <option value="time">–ü–æ –≤—Ä–µ–º–µ–Ω–∏</option>
                                        <option value="manual">–í—Ä—É—á–Ω—É—é</option>
                                        <option value="device">–ü–æ —Å–æ–±—ã—Ç–∏—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</option>
                                        <option value="location">–ü–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label fw-bold">–î–µ–π—Å—Ç–≤–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="actionLight">
                                    <label class="form-check-label" for="actionLight">
                                        –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="actionClimate">
                                    <label class="form-check-label" for="actionClimate">
                                        –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="actionMusic">
                                    <label class="form-check-label" for="actionMusic">
                                        –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É
                                    </label>
                                </div>
                            </div>
                            
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary">
                                    <span class="fw-bold">+</span> –°–æ–∑–¥–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ -->
        <div class="row" id="scenariosList">
            <!-- –°—Ü–µ–Ω–∞—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- JavaScript –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ -->
    <script>
        // –î–∞–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
        const scenarios = [
            { 
                id: 1, 
                name: '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ', 
                description: '–ü—Ä–æ—Å—ã–ø–∞–µ–º—Å—è —Å –∫–æ–º—Ñ–æ—Ä—Ç–æ–º', 
                active: true, 
                icon: 'üåÖ',
                color: 'border-warning',
                actions: ['–í–∫–ª—é—á–∞–µ—Ç —Å–≤–µ—Ç', '–ì—Ä–µ–µ—Ç –∫–æ—Ñ–µ', '–ü–æ–¥–Ω–∏–º–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É']
            },
            { 
                id: 2, 
                name: '–†–∞–±–æ—á–∏–π —Ä–µ–∂–∏–º', 
                description: '–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã', 
                active: false, 
                icon: 'üíº',
                color: 'border-primary',
                actions: ['–ü—Ä–∏–≥–ª—É—à–∞–µ—Ç —Å–≤–µ—Ç', '–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 22¬∞C', '–í–∫–ª—é—á–∞–µ—Ç —Ç–∏—à–∏–Ω—É']
            },
            { 
                id: 3, 
                name: '–í–µ—á–µ—Ä–Ω–∏–π –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä', 
                description: '–°–æ–∑–¥–∞–µ–º –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞', 
                active: true, 
                icon: 'üé¨',
                color: 'border-info',
                actions: ['–ü—Ä–∏–≥–ª—É—à–∞–µ—Ç —Å–≤–µ—Ç', '–í–∫–ª—é—á–∞–µ—Ç –¢–í', '–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∑–≤—É–∫']
            },
            { 
                id: 4, 
                name: '–ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º', 
                description: '–ì–æ—Ç–æ–≤–∏–º—Å—è –∫–æ —Å–Ω—É', 
                active: false, 
                icon: 'üåô',
                color: 'border-secondary',
                actions: ['–í—ã–∫–ª—é—á–∞–µ—Ç —Å–≤–µ—Ç', '–ü–æ–Ω–∏–∂–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É', '–í–∫–ª—é—á–∞–µ—Ç –æ—Ö—Ä–∞–Ω—É']
            },
            { 
                id: 5, 
                name: '–≠–∫–æ–Ω–æ–º–Ω—ã–π', 
                description: '–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è', 
                active: false, 
                icon: 'üí∞',
                color: 'border-success',
                actions: ['–í—ã–∫–ª—é—á–∞–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞', '–ü–æ–Ω–∏–∂–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É', '–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –æ—Å–≤–µ—â–µ–Ω–∏–µ']
            },
            { 
                id: 6, 
                name: '–ü—Ä–∏–µ–º –≥–æ—Å—Ç–µ–π', 
                description: '–°–æ–∑–¥–∞–µ–º –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É', 
                active: false, 
                icon: 'üéâ',
                color: 'border-danger',
                actions: ['–Ø—Ä–∫–∏–π —Å–≤–µ—Ç', '–§–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞', '–ö–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞']
            }
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
        function initializeScenarios() {
            const container = document.getElementById('scenariosList');
            container.innerHTML = '';
            
            scenarios.forEach(scenario => {
                const scenarioElement = createScenarioElement(scenario);
                container.appendChild(scenarioElement);
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
            updateActiveCount();
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è
        function createScenarioElement(scenario) {
            const col = document.createElement('div');
            col.className = 'col-md-6 col-lg-4 mb-4';
            col.id = `scenario-${scenario.id}`;
            
            const activeStatus = scenario.active ? '–ê–∫—Ç–∏–≤–µ–Ω' : '–ù–µ –∞–∫—Ç–∏–≤–µ–Ω';
            const activeClass = scenario.active ? 'success' : 'secondary';
            const buttonText = scenario.active ? '–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å' : '–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å';
            const buttonClass = scenario.active ? 'outline-danger' : 'success';
            
            col.innerHTML = `
                <div class="card h-100 shadow-sm scenario-card ${scenario.color}">
                    <div class="card-body">
                        <div class="scenario-icon">
                            ${scenario.icon}
                        </div>
                        
                        <div class="d-flex justify-content-between align-items-start mb-2">
                            <h5 class="card-title fw-bold">${scenario.name}</h5>
                            <span class="badge bg-${activeClass}">${activeStatus}</span>
                        </div>
                        
                        <p class="card-text text-muted mb-3">${scenario.description}</p>
                        
                        <div class="mb-3">
                            <small class="fw-bold text-muted">–î–µ–π—Å—Ç–≤–∏—è:</small>
                            <ul class="small mb-0 ps-3">
                                ${scenario.actions.map(action => `<li>${action}</li>`).join('')}
                            </ul>
                        </div>
                        
                        <div class="d-grid gap-2">
                            <button class="btn btn-${buttonClass}" onclick="toggleScenario(${scenario.id})">
                                ${buttonText}
                            </button>
                            <button class="btn btn-outline-primary" onclick="runScenario(${scenario.id})">
                                –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ–π—á–∞—Å
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            return col;
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è
        function toggleScenario(scenarioId) {
            const scenario = scenarios.find(s => s.id === scenarioId);
            if (!scenario) return;
            
            scenario.active = !scenario.active;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            const scenarioElement = document.getElementById(`scenario-${scenarioId}`);
            const badge = scenarioElement.querySelector('.badge');
            const button = scenarioElement.querySelector('.btn');
            
            if (scenario.active) {
                badge.textContent = '–ê–∫—Ç–∏–≤–µ–Ω';
                badge.className = 'badge bg-success';
                button.textContent = '–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å';
                button.className = 'btn btn-outline-danger';
                showAlert(`–°—Ü–µ–Ω–∞—Ä–∏–π "${scenario.name}" –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω`, 'success');
            } else {
                badge.textContent = '–ù–µ –∞–∫—Ç–∏–≤–µ–Ω';
                badge.className = 'badge bg-secondary';
                button.textContent = '–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å';
                button.className = 'btn btn-success';
                showAlert(`–°—Ü–µ–Ω–∞—Ä–∏–π "${scenario.name}" –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω`, 'warning');
            }
            
            updateActiveCount();
        }

        // –ó–∞–ø—É—Å–∫ —Å—Ü–µ–Ω–∞—Ä–∏—è
        function runScenario(scenarioId) {
            const scenario = scenarios.find(s => s.id === scenarioId);
            if (scenario) {
                showAlert(`–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ü–µ–Ω–∞—Ä–∏–π: "${scenario.name}"`, 'info');
                
                // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞
                const button = event.target;
                const originalText = button.textContent;
                
                button.textContent = '‚è≥ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è...';
                button.disabled = true;
                button.className = 'btn btn-secondary';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.disabled = false;
                    button.className = 'btn btn-outline-primary';
                    showAlert(`–°—Ü–µ–Ω–∞—Ä–∏–π "${scenario.name}" —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω!`, 'success');
                }, 2000);
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
        function createNewScenario(event) {
            event.preventDefault();
            
            const nameInput = document.getElementById('scenarioName');
            const name = nameInput.value.trim();
            
            if (!name) {
                showAlert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è', 'danger');
                return false;
            }
            
            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
            const newScenario = {
                id: scenarios.length + 1,
                name: name,
                description: '–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π',
                active: false,
                icon: '‚ú®',
                color: 'border-primary',
                actions: ['–ù–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ']
            };
            
            scenarios.push(newScenario);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            const container = document.getElementById('scenariosList');
            const scenarioElement = createScenarioElement(newScenario);
            container.appendChild(scenarioElement);
            
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
            nameInput.value = '';
            document.getElementById('scenarioTrigger').value = 'time';
            document.getElementById('actionLight').checked = false;
            document.getElementById('actionClimate').checked = false;
            document.getElementById('actionMusic').checked = false;
            
            showAlert(`–°—Ü–µ–Ω–∞—Ä–∏–π "${name}" —Å–æ–∑–¥–∞–Ω!`, 'success');
            updateActiveCount();
            
            return false;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
        function updateActiveCount() {
            const activeCount = scenarios.filter(s => s.active).length;
            document.getElementById('activeScenarios').textContent = activeCount;
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        function toggleTheme() {
            document.body.classList.toggle('bg-dark');
            document.body.classList.toggle('text-light');
            document.querySelectorAll('.card').forEach(card => {
                card.classList.toggle('bg-secondary');
                card.classList.toggle('text-light');
            });
        }

        // –ü—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showAlert(message, type = 'success') {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
            alertDiv.style.cssText = 'top: 20px; right: 20px; z-index: 1050; min-width: 300px;';
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.remove();
                }
            }, 3000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', initializeScenarios);
    </script>
</body>
</html>